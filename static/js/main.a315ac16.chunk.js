(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(5),o=a.n(r),s=a(4),i=a(8),u=(a(29),a(1));function l(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(s.a)(a,2),r=n[0],o=n[1];return Object(u.jsx)("header",{className:"Searchbar",onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r,1),o("")):i.b.error("Enter image name, please")},children:Object(u.jsxs)("form",{className:"SearchForm",children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",name:"searchValue",value:r,onChange:function(e){o(e.target.value.toLowerCase())},autoFocus:!0,placeholder:"Search images and photos"})]})})}var j=a(10),b=function(e){var t=e.webformatURL,a=e.onToggleModal,c=e.largeImageURL;return Object(u.jsx)("li",{className:"ImageGalleryItem",onClick:a,"data-modal":c,children:Object(u.jsx)("img",{src:t,alt:"",className:"ImageGalleryItem-image"})})},m=a(19),d=a.n(m);var h={fetchImagesWithQuery:function(e,t){return d.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=22812304-3b9840aba1a79f008a4d1352a&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))}},O=function(e){var t=e.loadingMore;return Object(u.jsx)("div",{className:"Button__box",children:Object(u.jsx)("button",{className:"Button",type:"button",onClick:t,children:"Load More"})})},g=document.querySelector("#modal-root");function f(e){var t=e.onClose,a=e.largeImg;Object(c.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(r.createPortal)(Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(u.jsx)("div",{className:"Modal",children:Object(u.jsx)("img",{src:a,alt:""})})}),g)}var p=a(20),x=a(21),v=a(24),y=a(23),S=a(22),N=a.n(S),w=(a(69),function(e){Object(v.a)(a,e);var t=Object(y.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(x.a)(a,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"Loader",children:Object(u.jsx)(N.a,{type:"Hearts",color:"#00BFFF",height:50,width:50})})}}]),a}(c.Component));function I(e){var t=e.searchValue,a=e.pageNum,n=e.setPageNum,r=Object(c.useState)([]),o=Object(s.a)(r,2),i=o[0],l=o[1],m=Object(c.useState)(!1),d=Object(s.a)(m,2),g=d[0],p=d[1],x=Object(c.useState)(!1),v=Object(s.a)(x,2),y=(v[0],v[1]),S=Object(c.useState)(!1),N=Object(s.a)(S,2),I=N[0],L=N[1],C=Object(c.useState)(""),F=Object(s.a)(C,2),k=F[0],E=F[1];function M(){p(!0),h.fetchImagesWithQuery(t,a).then((function(e){1===a?l(e):(l((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e))})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))})).catch((function(e){return y(e)})).finally((function(){p(!1),n((function(e){return e+1}))}))}Object(c.useEffect)((function(){t&&(l([]),M())}),[t]);var R=function(e){var t;I||(t=e.currentTarget.getAttribute("data-modal")),L(!I),E(t)};return Object(u.jsxs)(u.Fragment,{children:[!t&&Object(u.jsx)("div",{children:"Enter ..."}),i.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ul",{className:"ImageGallery",children:i.map((function(e){var t=e.webformatURL,a=e.largeImageURL,c=e.id;return Object(u.jsx)(b,{onToggleModal:R,webformatURL:t,largeImageURL:a},c)}))}),!g&&Object(u.jsx)(O,{loadingMore:M})]}),g&&Object(u.jsx)(w,{}),I&&Object(u.jsx)(f,{onClose:R,largeImg:k})]})}a(70);function L(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(1),o=Object(s.a)(r,2),j=o[0],b=o[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(l,{onSubmit:function(e,t){n(e),b(t)}}),Object(u.jsx)(i.a,{autoClose:3e3}),Object(u.jsx)(I,{searchValue:a,pageNum:j,setPageNum:b})]})}o.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(L,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.a315ac16.chunk.js.map